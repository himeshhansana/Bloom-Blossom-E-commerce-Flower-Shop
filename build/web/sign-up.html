<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <title>Sign Up - Bloom & Blossom</title>
        <link rel="stylesheet" href="assets/css/style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
        <link rel="shortcut icon" type="image/x-icon" href="assets/images/flowerlogo.png">

        <style>
            /* Additional responsive styles for sign-up page */
            @media (max-width: 768px) {
                .form-container {
                    padding: 0 5px;
                }

                .form-group {
                    margin-bottom: 18px;
                }

                .form-control {
                    padding: 14px 12px;
                    font-size: 16px;
                    border-radius: 8px;
                }

                .form-container h1 {
                    font-size: 1.7rem;
                    margin-bottom: 12px;
                }

                .form-container .subtitle {
                    font-size: 0.9rem;
                    line-height: 1.4;
                    margin-bottom: 25px;
                }
            }

            @media (max-width: 480px) {
                .left-panel h2 {
                    font-size: 1.6rem;
                    margin-bottom: 12px;
                }

                .left-panel p {
                    font-size: 0.9rem;
                    line-height: 1.5;
                }

                .form-container h1 {
                    font-size: 1.5rem;
                }

                .form-group label {
                    font-size: 14px;
                    font-weight: 600;
                    margin-bottom: 6px;
                }

                .form-control {
                    padding: 12px 10px;
                    font-size: 16px;
                }

                .btn-form {
                    padding: 14px;
                    font-size: 16px;
                    font-weight: 600;
                    margin-top: 15px;
                }
            }

            /* Improved focus states for mobile */
            @media (max-width: 768px) {
                .form-control:focus {
                    transform: scale(1.02);
                    transition: all 0.2s ease;
                }

                .btn-form:active {
                    transform: scale(0.98);
                    transition: all 0.1s ease;
                }
            }

            /* Better spacing for very small screens */
            @media (max-width: 360px) {
                .container {
                    margin: 5px;
                    border-radius: 12px;
                }

                .left-panel {
                    padding: 20px 12px;
                }

                .right-panel {
                    padding: 20px 12px;
                }

                .form-container h1 {
                    font-size: 1.3rem;
                }
            }
        </style>
    </head>
    <body>
        <div class="container">
            <!--            Header -->
            <div class="header">
                <div class="logo">
                    <i class="fas fa-leaf" style="color: #4CAF50; margin-right: 10px;"></i>
                    Bloom & Blossom
                </div>
                <div class="header-buttons">
                    <span class="btn-secondary">Already a member?</span>
                    <a href="sign-in.html" class="btn-primary">Sign In</a>
                </div>
            </div>

            <!--            Left Panel -->
            <div class="left-panel">
                <div class="left-content">
                    <h2>Join Our Floral Community</h2>
                    <p>Create a new Bloom & Blossom account to start shopping for beautiful flowers and manage your orders with ease.</p>

                    <div class="illustration">
                        <div class="flower-icon">ðŸŒº</div>
                    </div>
                </div>
            </div>

            <!--            Right Panel -->
            <div class="right-panel">
                <div class="form-container">
                    <h1>I'm New Here</h1>
                    <p class="subtitle">Create a new Bloom & Blossom account to start shopping and manage your flower orders with ease.</p>
                    <p id="message" style="text-align: center; font-weight: bold; color: red"></p>
                    <form id="signUpForm" novalidate>
                        <div class="form-group">
                            <label for="firstName">First Name</label>
                            <input type="text" id="firstName"  class="form-control" placeholder="Enter your first name">
                        </div>

                        <div class="form-group">
                            <label for="lastName">Last Name</label>
                            <input type="text" id="lastName" class="form-control" placeholder="Enter your last name">
                        </div>

                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" class="form-control" placeholder="Enter your email address">
                        </div>

                        <div class="form-group">
                            <label for="password">Password</label>
                            <input type="password" id="password" class="form-control" placeholder="Create a strong password">
                        </div>
                        <div class="form-group">
                            <button onclick="signUp();" type="button" class="btn-form">
                                <span class="btn-text">Create Account</span>
                                <i class="fas fa-spinner fa-spin" style="display: none; margin-left: 8px;"></i>
                            </button>
                        </div>

                    </form>
                </div>
            </div>
        </div>

        <script>
            // Enhanced form validation and submission
            document.getElementById('signUpForm').addEventListener('submit', function (e) {
                e.preventDefault();

                const firstName = document.getElementById('firstName').value.trim();
                const lastName = document.getElementById('lastName').value.trim();
                const email = document.getElementById('email').value.trim();
                const password = document.getElementById('password').value;

                // Clear previous error styles
                clearErrorStates();

                // Validation
                let hasErrors = false;

                if (!firstName) {
                    showFieldError('firstName', 'First name is required');
                    hasErrors = true;
                }

                if (!lastName) {
                    showFieldError('lastName', 'Last name is required');
                    hasErrors = true;
                }

                if (!email || !isValidEmail(email)) {
                    showFieldError('email', 'Please enter a valid email address');
                    hasErrors = true;
                }

                if (password.length < 6) {
                    showFieldError('password', 'Password must be at least 6 characters long');
                    hasErrors = true;
                }

                if (hasErrors) {
                    // Vibrate on mobile if supported
                    if (navigator.vibrate) {
                        navigator.vibrate(200);
                    }
                    return;
                }

                // Show loading state
                const button = document.querySelector('.btn-form');
                const buttonText = button.querySelector('.btn-text');
                const spinner = button.querySelector('.fas.fa-spinner');

                buttonText.textContent = 'Creating Account...';
                spinner.style.display = 'inline';
                button.disabled = true;

                // Simulate account creation
                setTimeout(() => {
                    // Success vibration on mobile if supported
                    if (navigator.vibrate) {
                        navigator.vibrate([100, 30, 100]);
                    }

                    showSuccessMessage('Account created successfully! Redirecting to verification...');

                    setTimeout(() => {
                        window.location.href = 'verify-account.html';
                    }, 1500);
                }, 2000);
            });

            // Email validation function
            function isValidEmail(email) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return emailRegex.test(email);
            }

            // Show field error
            function showFieldError(fieldId, message) {
                const field = document.getElementById(fieldId);
                field.style.borderColor = '#e74c3c';
                field.style.backgroundColor = '#fdf2f2';
                field.setAttribute('title', message);

                // Create error message if it doesn't exist
                let errorDiv = field.parentNode.querySelector('.error-message');
                if (!errorDiv) {
                    errorDiv = document.createElement('div');
                    errorDiv.className = 'error-message';
                    errorDiv.style.color = '#e74c3c';
                    errorDiv.style.fontSize = '12px';
                    errorDiv.style.marginTop = '4px';
                    field.parentNode.appendChild(errorDiv);
                }
                errorDiv.textContent = message;

                // Focus on first error field for accessibility
                if (!document.querySelector('.form-control[style*="border-color: rgb(231, 76, 60)"]')) {
                    field.focus();
                }
            }

            // Clear error states
            function clearErrorStates() {
                const fields = document.querySelectorAll('.form-control');
                fields.forEach(field => {
                    field.style.borderColor = '#e1e1e1';
                    field.style.backgroundColor = '#fafafa';
                    field.removeAttribute('title');

                    const errorDiv = field.parentNode.querySelector('.error-message');
                    if (errorDiv) {
                        errorDiv.remove();
                    }
                });
            }

            // Show success message
            function showSuccessMessage(message) {
                const form = document.getElementById('signUpForm');
                let successDiv = document.querySelector('.success-message');

                if (!successDiv) {
                    successDiv = document.createElement('div');
                    successDiv.className = 'success-message';
                    successDiv.style.cssText = `
                    background: #d4edda;
                    color: #155724;
                    border: 1px solid #c3e6cb;
                    padding: 12px;
                    border-radius: 8px;
                    margin-bottom: 20px;
                    animation: slideIn 0.3s ease-out;
                `;
                    form.parentNode.insertBefore(successDiv, form);
                }

                successDiv.textContent = message;
            }

            // Real-time field validation on blur
            document.querySelectorAll('.form-control').forEach(field => {
                field.addEventListener('blur', function () {
                    if (this.value.trim()) {
                        this.style.borderColor = '#28a745';
                        this.style.backgroundColor = '#f8fff9';
                    }
                });

                field.addEventListener('focus', function () {
                    // Clear error state on focus
                    if (this.style.borderColor === 'rgb(231, 76, 60)') {
                        this.style.borderColor = '#667eea';
                        this.style.backgroundColor = 'white';

                        const errorDiv = this.parentNode.querySelector('.error-message');
                        if (errorDiv) {
                            errorDiv.remove();
                        }
                    }
                });
            });

            // Add floating animation to flowers
            document.addEventListener('DOMContentLoaded', function () {
                const flowerIcon = document.querySelector('.flower-icon');

                setInterval(() => {
                    const flowers = ['ðŸŒº', 'ðŸŒ¸', 'ðŸŒ»', 'ðŸŒ·', 'ðŸŒ¹', 'ðŸŒ¼'];
                    const randomFlower = flowers[Math.floor(Math.random() * flowers.length)];
                    flowerIcon.textContent = randomFlower;
                }, 3000);

                // Add smooth scrolling for mobile
                if (window.innerWidth <= 768) {
                    document.body.style.scrollBehavior = 'smooth';
                }
            });

            // Optimize for mobile keyboard
            window.addEventListener('resize', function () {
                // Handle mobile keyboard appearance
                if (window.innerWidth <= 768) {
                    const container = document.querySelector('.container');
                    if (window.innerHeight < 600) {
                        container.style.minHeight = 'auto';
                    } else {
                        container.style.minHeight = '600px';
                    }
                }
            });
        </script>


        <!--        sign-up JS -->
        <script src="assets/js/sign-up.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    </body>
</html>


